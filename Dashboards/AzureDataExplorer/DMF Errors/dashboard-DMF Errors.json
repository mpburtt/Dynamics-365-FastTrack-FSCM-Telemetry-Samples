{"$schema":"https://dataexplorer.azure.com/static/d/schema/63/dashboard.json","id":"aec4ef5f-b0a8-433d-84ec-b5f4edf47770","eTag":"44aa9ee3-02d0-480e-a165-051dd3f69976","title":"FSCM-DMF Errors-TST","tiles":[{"id":"2f74841a-4b62-4aef-8aac-2df41a21efb5","title":"Error Details","visualType":"table","pageId":"07635b92-9701-4700-9ae6-03bc525ab964","layout":{"x":0,"y":0,"width":24,"height":6},"queryRef":{"kind":"query","queryId":"c8611372-c4f8-4a36-ad38-3bfc551d0d5a"},"visualOptions":{"table__enableRenderLinks":true,"colorRulesDisabled":true,"crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[],"table__renderLinks":[],"colorRules":[]}},{"id":"69a806cc-6c58-46aa-906b-f93085c93be1","title":"ErrorCode distribution","visualType":"pie","pageId":"07635b92-9701-4700-9ae6-03bc525ab964","layout":{"x":0,"y":6,"width":24,"height":6},"queryRef":{"kind":"query","queryId":"7be0a00e-e0cf-4929-9547-17d6cf130eb4"},"visualOptions":{"hideLegend":false,"legendLocation":"bottom","xColumn":null,"yColumns":null,"seriesColumns":null,"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__topNSlices":null,"crossFilter":[],"drillthrough":[]}}],"dataSources":[{"id":"06857df7-cec1-4268-8039-f1c5d0168189","kind":"manual-kusto","scopeId":"kusto","name":"Test","clusterUri":"https://ade.applicationinsights.io/subscriptions/bc1d0969-7db8-4768-be23-b2ed191e0250/resourcegroups/rg-bprservices-we-fno-montel-uat/","database":"appinsight-bprservices-we-fno-montel-uat"}],"schema_version":63,"baseQueries":[],"parameters":[{"kind":"duration","id":"143d3262-e5e4-4679-982f-0d6d6cf7e017","displayName":"Time range","description":"","beginVariableName":"_startTime","endVariableName":"_endTime","defaultValue":{"kind":"dynamic","count":1,"unit":"hours"},"showOnPages":{"kind":"all"}},{"kind":"string","id":"742d8a18-14c2-460a-9a4d-0416bdd3d98f","displayName":"Environment","description":"","variableName":"_environmentId","selectionType":"array","includeAllOption":true,"defaultValue":{"kind":"all"},"dataSource":{"kind":"query","columns":{"value":"environmentId"},"queryRef":{"kind":"query","queryId":"d883e64e-e38f-4a6b-84e6-0157fc99408d"},"autoReset":true},"showOnPages":{"kind":"all"}}],"pages":[{"name":"Overview","id":"07635b92-9701-4700-9ae6-03bc525ab964"}],"queries":[{"dataSource":{"kind":"inline","dataSourceId":"06857df7-cec1-4268-8039-f1c5d0168189"},"text":"customEvents\n| where customDimensions.JsonAttributes contains \"DMF\" and customDimensions.Message startswith \"Message:\"\n| extend cd = parse_json(tostring(customDimensions))\n| extend jsonAttrs = parse_json(tostring(cd.JsonAttributes))\n| extend    EnvironmentId   = tostring(cd.environmentId)\n| where     EnvironmentId in (_environmentId) or isempty(_environmentId)\n| project\n    timestamp,\n    name,\n    Environment = cd.environmentId,\n    DataProjectId = cd.DataProjectId,\n    EntityName = cd.EntityName,\n    ExecutionId = cd.ExecutionId,\n    Message = cd.Message,\n    ActivityId = cd.activityId,\n    dixfActivityId = cd.dixfActivityId,\n    ErrorCode = jsonAttrs.ErrorCode\n","id":"c8611372-c4f8-4a36-ad38-3bfc551d0d5a","usedVariables":["_environmentId"]},{"dataSource":{"kind":"inline","dataSourceId":"06857df7-cec1-4268-8039-f1c5d0168189"},"text":"customEvents\n| where customDimensions.JsonAttributes contains \"DMF\" and customDimensions.Message startswith \"Message:\"\n| extend cd = parse_json(tostring(customDimensions))\n| extend jsonAttrs = parse_json(tostring(cd.JsonAttributes))\n| extend    EnvironmentId   = tostring(cd.environmentId)\n| where     EnvironmentId in (_environmentId) or isempty(_environmentId)\n| summarize Count = count() by ErrorCode = tostring(jsonAttrs.ErrorCode)\n| order by Count desc\n| render piechart\n\n\n","id":"7be0a00e-e0cf-4929-9547-17d6cf130eb4","usedVariables":["_environmentId"]},{"dataSource":{"kind":"inline","dataSourceId":"06857df7-cec1-4268-8039-f1c5d0168189"},"text":"pageViews\n| union exceptions\n| union customEvents\n| union customMetrics\n| union traces\n| where timestamp  between (_startTime .. _endTime)\n| extend Dims = parse_json(customDimensions)\n| extend environmentId = tostring(Dims.environmentId)\n| summarize by environmentId\n| where environmentId != \"\"","id":"d883e64e-e38f-4a6b-84e6-0157fc99408d","usedVariables":["_endTime","_startTime"]}]}